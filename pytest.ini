# pytest.ini
[pytest]
DJANGO_SETTINGS_MODULE = dashboard.settings
python_files = tests.py test_*.py *_tests.py
# Only collect tests from the Django app test folder, not helper scripts
testpaths = tracker/tests
# Don't recurse into scripts or other non-test folders
norecursedirs = scripts json logs db model update_copilot migrations dashboard/templates markdown
# Ignore test files that require fixtures removed for security
# (test_eml_parsing.py requires .eml files that were removed from repository)
addopts = --ignore=tests/test_eml_parsing.py

# Suppress third-party deprecation warnings
filterwarnings =
    ignore::DeprecationWarning:spacy.cli._util
    ignore::DeprecationWarning:weasel.util.config